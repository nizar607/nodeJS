<html>
	<head>
		 <script src="/socket.io/socket.io.js"></script>
	</head>
	<body>
		<h1>Exam</h1>
		nom partie:
		<input id="nom"/>
		<br/>
		id joueur1 :
		<input id="idJoueur1"/>
		<br/>
		id joueur2 :
		<input id="idJoueur2"/>
		<br/>
		<button onclick="start()">Envoyer</button>
		<button onclick="stats()">Stats</button>
		<br/>

		<div id="content-container">

		</div>

		<div id="content-stats">

		</div>
	



		 <script>
					const socket = io.connect();
		
				 	function start() {
						const nom = document.getElementById("nom").value;
						const idJoueur1 = document.getElementById("idJoueur1").value;
						const idJoueur2 = document.getElementById("idJoueur2").value;
		
						console.log("start");	
				 		socket.emit("add-partie", {nom: nom, joueur_1: idJoueur1, joueur_2: idJoueur2});
				 	}
		
				 	function stats() {
						console.log("stats");
						const nom = document.getElementById("nom").value;
						const idJoueur1 = document.getElementById("idJoueur1").value;
						const idJoueur2 = document.getElementById("idJoueur2").value;
		
				 		socket.emit("display-stats", {nom: nom, joueur_1: idJoueur1, joueur_2: idJoueur2});
				 	}
		
					socket.on("stats-displayed", (data) => {
					    console.log("stats-displayed");
					    const container = document.getElementById("content-stats");
					
					    const span1 = document.createElement("span");
					    span1.innerText = `Round : ${data.joueur_1}`;
					
					    const span2 = document.createElement("span");
					    span2.innerText = `player1 : ${JSON.stringify(data.joueur_1)}`;
					
					    const span3 = document.createElement("span");
					    span3.innerText = `player2 : ${JSON.stringify(data.joueur_2)}`;
					
					    const br = document.createElement("br");
					
					    container.append(span1);
						container.append(br);
					    container.append(span2);
						container.append(br);
					    container.append(span3);
					})
		
					socket.on("partie-added", (data) => {
						const container = document.getElementById("content-container");
						const p = document.createElement("p");
						p.innerText = "nom: " + data.nom + " joueur1: " + data.joueur_1 + " joueur2: " + data.joueur_2;
						container.append(p);
					})
		
				 </script>
	</body>

</html>
